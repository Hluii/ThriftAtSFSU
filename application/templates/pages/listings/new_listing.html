{% extends "base.html" %}
{% block title %}Create Listing â€“ SFSU Thrift Market{% endblock %}

{% block content %}
<!-- ========== Create Listing Form Container ========== -->
<section class="creationForm">
  <form class="listing-form">
    <!-- Image Upload -->
    <div class="form-group image-upload">
      <label for="images">Upload Images JPG or PNG</label>
      <input type="file" id="images" name="images" accept="image/*" multiple hidden>
      <label for="images" class="custom-upload-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 24 24">
          <path
            d="M19.35 10.04a7.49 7.49 0 00-14-2A5.994 5.994 0 000 14c0 3.31 2.69 6 6 6h13a5 5 0 00.35-9.96zM13 12v4h-2v-4H8l4-4 4 4h-3z" />
        </svg>
        Choose Images
      </label>
      <span id="file-names" class="file-name">No files chosen</span>
    </div>

    <!-- Title -->
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" id="title" name="title" required>
    </div>

    <!-- Price -->
    <div class="form-group">
      <label for="price">Price ($)</label>
      <input type="number" id="price" name="price" min="0" step="0.01" required>
    </div>

    <!-- Category -->
    <div class="form-group">
      <label for="category">Category</label>
      <select id="category" name="category" required>
        <option value="">--Select a category--</option>
        <option value="Electronics">Electronics</option>
        <option value="Books">Books</option>
        <option value="Clothing">Clothing</option>
      </select>
    </div>

    <!-- Condition -->
    <div class="form-group">
      <label for="condition">Condition</label>
      <select id="condition" name="condition" required>
        <option value="">--Select condition--</option>
        <option value="Very Worn">Very Worn</option>
        <option value="Used">Used</option>
        <option value="Fairly Used">Fairly Used</option>
        <option value="Good Condition">Good Condition</option>
        <option value="Great Condition">Great Condition</option>
      </select>
    </div>

    <!-- Description -->
    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" name="description" rows="5" required></textarea>
    </div>

    <!-- Submit Button -->
    <div class="form-group">
      <button type="submit" class="btn btn-submit">Create</button>
    </div>
  </form>

</section>

<script>
  // Display selected filenames for multiple files
  document.getElementById('images').addEventListener('change', function () {
    const files = this.files;
    let fileNamesText = 'No files chosen';
    if (files.length > 0) {
      fileNamesText = files.length + (files.length === 1 ? ' file selected: ' : ' files selected: ');
      let names = [];
      for (let i = 0; i < files.length; i++) {
        names.push(files[i].name);
      }
      fileNamesText += names.join(', ');
    }
    document.getElementById('file-names').textContent = fileNamesText;
  });
</script>
{% endblock %}